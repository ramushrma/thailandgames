import{J as S,g as _,_ as E}from"./index-fbf0707b.js";import{O as B,t as c,C as V,v as g,B as D,a0 as z,V as N,Y as o,a1 as R,T as j,_ as J,P as L}from"./vendor-b2024301.js";const M={class:"passwordInput__container"},O={class:"passwordInput__container-label"},T={class:"passwordInput__container-label__icon"},W={class:"passwordInput__container-input"},X=["type","placeholder","maxlength","value"],Y=["src"],$=B({__name:"PasswordInput",props:{value:{},maxlength:{default:15},label:{}},emits:["update:value"],setup(h,{emit:f}){const p=h,r=S.global.t,l=c(),s=c(""),u=c(!1);V(s,e=>{f("update:value",e)},{flush:"post"});const d=e=>{if(u.value)return;let t=w();const a=e.target;a.value=a.value.replace(/\s+/g,"");const v=/[\u4e00-\u9fa5]/g;a.value=a.value.replace(v,""),b(t,a.value),i(a.value),I(t)},n=c(!1),m=g(()=>_("login",`${n.value?"eyeVisible":"eyeInvisible"}`)),w=()=>{var e={start:0,end:0};return e.start=l.value.selectionStart,e.end=l.value.selectionEnd,e},b=(e,t)=>{if(t.length>1&&!t.includes("•")){s.value=t;return}let a=t.split("•").join("");if(a){let v=s.value.length-(t.length-e.end);s.value=s.value.slice(0,e.end-a.length)+a+s.value.slice(v)}else s.value=s.value.slice(0,e.end)+s.value.slice(e.end+s.value.length-t.length)},i=e=>{if(n.value)return;if(!e){l.value.value="";return}let t="";for(let a=0;a<e.length;a++)t+="•";l.value.value=t},I=e=>{l.value.setSelectionRange(e.start,e.end)},y=()=>{u.value=!0},k=e=>{u.value&&(u.value=!1,d(e))},C=()=>{n.value=!n.value,n.value?l.value.value=s.value:i(s.value)};D(()=>{s.value=p.value||"",i(s.value)});const P=localStorage.getItem("language"),x=g(()=>{let e,t=p.label;switch(P){case"vi":switch(t){case"Đặt mật khẩu":e=r("setLoginPSW");break;case"Xác nhận mật khẩu":e=r("enterPswConfirmation");break;default:e=r("phEnter")+t;break}break;default:e=t}return e});return(e,t)=>{const a=z("lazy");return L(),N("div",M,[o("div",O,[R(o("img",T,null,512),[[a,j(_)("login","password")]]),o("span",null,J(e.label),1)]),o("div",W,[o("input",{type:n.value?"text":"password",placeholder:x.value,maxlength:e.maxlength,onInput:d,onCompositionstart:y,onCompositionend:k,ref_key:"inputPwd",ref:l,value:e.value,autocomplete:"new-password"},null,40,X),o("img",{src:m.value,class:"eye",onClick:C},null,8,Y)])])}}});const F=E($,[["__scopeId","data-v-934f92c4"]]);export{F as P};

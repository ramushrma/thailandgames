import{t as u,y as M,v as d,bc as P,D as U,F as m}from"./vendor-b2024301.js";import{l as N,A as f,I as B,D}from"./index-fbf0707b.js";var R=(a=>(a[a.Registr=1]="Registr",a[a.resetPassword=2]="resetPassword",a[a.bindEmailMmobile=3]="bindEmailMmobile",a[a.resetEmailMmobile=4]="resetEmailMmobile",a[a.openGoogle=5]="openGoogle",a[a.addBankCard=6]="addBankCard",a[a.addUSDT=7]="addUSDT",a[a.addEWallet=8]="addEWallet",a[a.addPIX=9]="addPIX",a[a.addWave=10]="addWave",a[a.addKBZ=11]="addKBZ",a[a.addNewUPI=13]="addNewUPI",a[a.addNewUPI_N=15]="addNewUPI_N",a[a.c2cRecharge=16]="c2cRecharge",a))(R||{});function A({time:a,codeType:l}){const v=u(!1),{t:i}=M(),s=u(!1),g=N(),c=d(()=>g.getUserInfo),{start:o,pause:w,reset:e,current:b}=P({time:a*1e3,onFinish:()=>{s.value=!1}}),I=d(()=>Math.ceil(b.value.total/1e3)),S=async n=>{var r;const t=n||((r=c.value.verifyMethods)==null?void 0:r.email);if(!t)return;await f(B({email:t,emailType:l}))&&(e(),o(),s.value=!0,m(i("sendSuccess")))},h=async n=>{var r;const t=n||((r=c.value.verifyMethods)==null?void 0:r.mobile);if(!t)return;await f(D({phone:t,codeType:l}))&&(e(),o(),s.value=!0,m(i("sendSuccess")))};return U(()=>{s.value=!1,w(),e()}),{loading:v,isCount:s,seconds:I,getSMSCode:h,getEmailCode:S}}export{R as C,A as u};
